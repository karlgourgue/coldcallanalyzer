(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(7983)}])},7983:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return f}});var a=s(5893),t=s(7294),n=s(5154),i=s(5562),o=s(8388),l=s(6501);function d(e){let{onFileSelect:r,isLoading:s=!1,currentFile:d}=e,[c,m]=(0,t.useState)(!1),x=(0,t.useCallback)(e=>{let s=e[0];if(s){if(!s.type.includes("audio/")){l.ZP.error("Please upload an audio file");return}if(s.size>26214400){l.ZP.error("File size must be less than 25MB");return}r(s)}},[r]),{getRootProps:u,getInputProps:p}=(0,n.uI)({onDrop:x,accept:{"audio/*":[".wav",".mp3",".m4a"]},maxFiles:1,multiple:!1,onDragEnter:()=>m(!0),onDragLeave:()=>m(!1),disabled:s});return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{...u(),className:(0,o.m6)("relative rounded-xl border-2 border-dashed transition-all","group hover:border-dark-400 hover:bg-dark-800/30","p-12 text-center cursor-pointer",c?"border-dark-400 bg-dark-800/30":"border-dark-600",s&&"opacity-50 cursor-not-allowed pointer-events-none"),children:[(0,a.jsx)("input",{...p()}),(0,a.jsxs)("div",{className:"absolute inset-0 -z-10 rounded-xl transition-opacity opacity-0 group-hover:opacity-100",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-dark-800/50 to-dark-700/50 rounded-xl"}),(0,a.jsx)("div",{className:"absolute inset-0 rounded-xl bg-[url('/grid.svg')] bg-center opacity-20"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"mx-auto w-12 h-12 rounded-full bg-dark-800 flex items-center justify-center mb-4 group-hover:bg-dark-700 transition-colors",children:(0,a.jsx)(i.Z,{className:"w-6 h-6 text-dark-300"})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-dark-200",children:"Click to upload or drag and drop"}),(0,a.jsx)("p",{className:"text-xs text-dark-400",children:"Audio files (WAV, MP3, etc.) up to 25MB"})]})]})]}),d&&!s&&(0,a.jsxs)("div",{className:"text-sm text-dark-400 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-dark-500 animate-pulse"}),"Processing: ",d]})]})}function c(e){let{score:r}=e;return(0,a.jsxs)("div",{className:(0,o.m6)("score-badge",r>=8?"score-badge-high":r>=6?"score-badge-mid":"score-badge-low"),children:[r.toFixed(1),"/10"]})}function m(e){let{title:r,score:s,feedback:t,improvement:n,bulletPoints:i}=e,o=Array.isArray(t)?t:[t];return(0,a.jsxs)("div",{className:"relative rounded-xl bg-dark-800/50 backdrop-blur-sm border border-dark-700/50",children:[(0,a.jsxs)("div",{className:"absolute inset-0 -z-10 rounded-xl",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-dark-800/30 to-dark-700/30 rounded-xl"}),(0,a.jsx)("div",{className:"absolute inset-0 rounded-xl bg-[url('/grid.svg')] bg-center opacity-10"})]}),(0,a.jsxs)("div",{className:"relative p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-gray-100 to-gray-300",children:r}),(0,a.jsx)(c,{score:s})]}),i?(0,a.jsx)("ul",{className:"space-y-3 text-dark-200",children:i.map((e,r)=>(0,a.jsxs)("li",{className:"flex items-start gap-3 group",children:[(0,a.jsx)("span",{className:"mt-1.5 block h-1.5 w-1.5 rounded-full bg-dark-400 group-hover:bg-dark-300 transition-colors"}),(0,a.jsx)("span",{className:"group-hover:text-dark-100 transition-colors",children:e})]},r))}):(0,a.jsx)("ul",{className:"space-y-3 text-dark-200",children:o.map((e,r)=>(0,a.jsxs)("li",{className:"flex items-start gap-3 group",children:[(0,a.jsx)("span",{className:"mt-1.5 block h-1.5 w-1.5 rounded-full bg-dark-400 group-hover:bg-dark-300 transition-colors"}),(0,a.jsx)("span",{className:"group-hover:text-dark-100 transition-colors",children:e})]},r))}),n&&(0,a.jsx)("div",{className:"mt-6 rounded-xl bg-dark-900/50 border border-dark-800/50 p-4",children:(0,a.jsxs)("p",{className:"text-sm text-dark-200",children:[(0,a.jsx)("span",{className:"font-medium text-dark-100",children:"Suggested Improvement:"})," ",(0,a.jsx)("span",{className:"text-dark-300",children:n})]})})]})]})}function x(e){let{analysis:r}=e,{overallScore:s,summary:t,sections:n,actionableTakeaways:i}=r;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"relative rounded-xl bg-gradient-to-br from-dark-800 to-dark-700 overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-[url('/grid.svg')] bg-center opacity-20"}),(0,a.jsxs)("div",{className:"relative p-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h2",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-gray-100 to-gray-300",children:"Overall Score"}),(0,a.jsx)(c,{score:s})]})}),(0,a.jsx)("p",{className:"text-dark-200",children:t})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(m,{title:"Opener Analysis",score:n.opener.score,feedback:n.opener.feedback,improvement:n.opener.improvement}),(0,a.jsx)(m,{title:"Problem Proposition",score:n.problemProposition.score,feedback:n.problemProposition.feedback,improvement:n.problemProposition.improvement}),(0,a.jsx)(m,{title:"Objection Handling",score:n.objectionHandling.score,feedback:n.objectionHandling.feedback,improvement:n.objectionHandling.improvement}),(0,a.jsx)(m,{title:"Engagement & Flow",score:n.engagementAndFlow.score,feedback:n.engagementAndFlow.feedback,improvement:n.engagementAndFlow.improvement}),(0,a.jsx)(m,{title:"Closing & Next Steps",score:n.closingAndNextSteps.score,feedback:n.closingAndNextSteps.feedback,improvement:n.closingAndNextSteps.improvement})]}),(0,a.jsx)(m,{title:"Actionable Takeaways",score:10,feedback:"",bulletPoints:[...i.quickWins,"Example Script: ".concat(i.scriptExample)]})]})}class u extends Error{constructor(e,r=500,s){super(e),this.statusCode=r,this.details=s,this.name="ApiError"}}async function p(e){try{let r=await e,s=await r.json();if(!r.ok)throw new u(s.error||"An unexpected error occurred",r.status,s);return{success:!0,data:s}}catch(e){if(e instanceof u)return{success:!1,error:e.message};return{success:!1,error:e instanceof Error?e.message:"An unexpected error occurred"}}}async function g(e){let r=new FormData;return r.append("file",e),p(fetch("/api/upload",{method:"POST",body:r}))}async function b(e){return p(fetch("/api/transcribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uploadUrl:e})}))}async function h(e){return p(fetch("/api/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcription:e})}))}function f(){let[e,r]=(0,t.useState)(!1),[s,n]=(0,t.useState)(null),[i,o]=(0,t.useState)(),c=async e=>{r(!0),n(null),o(e.name);try{let r=await g(e);if(!r.success||!r.data)throw Error(r.error||"Failed to upload file");let s=await b(r.data.uploadUrl);if(!s.success||!s.data)throw Error(s.error||"Failed to transcribe audio");let a=await h(s.data.transcription);if(!a.success||!a.data)throw Error(a.error||"Failed to analyze call");n(a.data.analysis),l.ZP.success("Analysis complete!")}catch(e){l.ZP.error(e instanceof Error?e.message:"An unexpected error occurred"),o(void 0)}finally{r(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-dark-950 to-dark-900",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-[url('/grid.svg')] bg-center [mask-image:linear-gradient(180deg,white,rgba(255,255,255,0))]"}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)("div",{className:"mx-auto max-w-4xl px-4 py-12 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"text-center space-y-4 mb-12",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold tracking-tight text-white sm:text-5xl bg-clip-text text-transparent bg-gradient-to-r from-gray-200 to-gray-400",children:"Cold Call Coach"}),(0,a.jsx)("p",{className:"text-lg text-dark-300 max-w-2xl mx-auto",children:"Upload your cold call recording and get instant, AI-powered feedback to improve your sales game"})]}),(0,a.jsx)("div",{className:"relative z-10 bg-dark-900/50 backdrop-blur-xl rounded-2xl border border-dark-800 shadow-2xl p-6",children:s?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("button",{onClick:()=>{n(null),o(void 0)},className:"text-dark-400 hover:text-dark-300 transition-colors text-sm flex items-center gap-2",children:"‚Üê Analyze another call"}),(0,a.jsx)("div",{className:"text-dark-400 text-sm",children:i})]}),(0,a.jsx)(x,{analysis:s})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(d,{onFileSelect:c,isLoading:e,currentFile:i}),e&&(0,a.jsx)("div",{className:"text-center text-dark-300 animate-pulse",children:"Analyzing your call..."})]})})]})})]})}}},function(e){e.O(0,[797,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);